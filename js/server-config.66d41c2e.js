(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["server-config"],{"386d":function(e,t,o){"use strict";var a=o("cb7c"),r=o("83a1"),n=o("5f1b");o("214f")("search",1,(function(e,t,o,i){return[function(o){var a=e(this),r=void 0==o?void 0:o[t];return void 0!==r?r.call(o,a):new RegExp(o)[t](String(a))},function(e){var t=i(o,e,this);if(t.done)return t.value;var l=a(e),s=String(this),c=l.lastIndex;r(c,0)||(l.lastIndex=0);var d=n(l,s);return r(l.lastIndex,c)||(l.lastIndex=c),null===d?-1:d.index}]}))},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"96e7":function(e,t,o){},c063:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Card",{attrs:{shadow:""}},[o("p",{attrs:{slot:"title"},slot:"title"},[e._v("Service Module")]),o("Row",[o("Col",{attrs:{xs:{span:24},lg:{span:22}}},[o("Input",{staticStyle:{width:"auto"},attrs:{clearable:"",search:"",placeholder:"Search..."},on:{"on-enter":e.searchevents,"on-change":e.searchevents},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),o("Col",{attrs:{xs:{span:24},lg:{span:2},type:"flex",justify:"end"}},[o("Button",{attrs:{long:"",type:"primary",icon:"ios-add-circle-outline"},on:{click:e.onCreate}},[e._v("Add")])],1)],1),o("Divider"),o("Table",{attrs:{loading:e.loading,columns:e.table.column,data:e.table.dataSearch,size:"small"}}),o("Divider")],1),o("Modal",{attrs:{closable:!1,"mask-closable":!1,title:e.form.model.title},model:{value:e.showEditModal,callback:function(t){e.showEditModal=t},expression:"showEditModal"}},[o("div",[o("Form",{ref:"form.formValidate",attrs:{rules:e.form.ruleValidate,model:e.form.model,"label-width":100}},[o("FormItem",{attrs:{label:"Code",prop:"code"}},[o("Input",{attrs:{disabled:!e.form.model.isCreate,"max-length":"32",placeholder:"Code"},model:{value:e.form.model.code,callback:function(t){e.$set(e.form.model,"code",t)},expression:"form.model.code"}})],1),o("FormItem",{attrs:{label:"Name",prop:"name"}},[o("Input",{attrs:{placeholder:"Title"},model:{value:e.form.model.name,callback:function(t){e.$set(e.form.model,"name",t)},expression:"form.model.name"}})],1),o("FormItem",{attrs:{label:"Description",prop:"description"}},[o("Input",{attrs:{placeholder:"Description"},model:{value:e.form.model.description,callback:function(t){e.$set(e.form.model,"description",t)},expression:"form.model.description"}})],1),o("FormItem",{attrs:{label:"Status",prop:"status"}},[o("Select",{model:{value:e.form.model.status,callback:function(t){e.$set(e.form.model,"status",t)},expression:"form.model.status"}},[o("Option",{attrs:{value:"ACTIVE"}},[e._v("Active")]),o("Option",{attrs:{value:"INACTIVE"}},[e._v("Inactive")])],1)],1)],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"text"},on:{click:e.onCancel}},[e._v("Cancel")]),o("Button",{attrs:{type:"primary",loading:e.modal_loading},on:{click:e.onSave}},[e._v("Save")])],1)])],1)},r=[],n=(o("8e6e"),o("96cf"),o("3b8d")),i=o("bd86"),l=(o("ac6a"),o("456d"),o("7f7f"),o("6762"),o("2fdb"),o("75fc")),s=(o("386d"),o("66df")),c=o("5a0c"),d=o.n(c);function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){Object(i["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var f={name:"configure",data:function(){return{loading:!1,showEditModal:!1,modal_loading:!1,form:{model:{},formValidate:{status:"",code:"",name:"",description:""},ruleValidate:{code:[{required:!0,message:"Code cannot be empty",trigger:"blur"}],name:[{required:!0,message:"Name cannot be empty",trigger:"blur"}],status:[{required:!0,message:"Status cannot be empty",trigger:"blur"}]}},table:{column:[],data:[],dataSearch:[]},search:"",filter:""}},methods:{searchevents:function(){console.log("search event hit"),this.search||(this.table.dataSearch=Object(l["a"])(this.table.data));var e=this.table.data,t=this.search.toLowerCase(),o=e.filter((function(e){return e.code.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}));this.table.dataSearch=o},init:function(){var e=this;this.$Message.info("Calling API"),this.loading=!0,s["a"].request({url:"services/modules",method:"get"}).then((function(t){console.log(t);var o=[{type:"index",width:60,align:"center"},{title:"Actions",key:"action",render:function(t,o){return t("ButtonGroup",[t("Button",{props:{type:"default",icon:"ios-paper-outline",size:"small",title:"View"},on:{click:function(){e.viewDetail(o.index)}}}),t("Button",{props:{type:"primary",icon:"ios-create-outline",size:"small"},on:{click:function(){e.edit(o.index)}}}),t("Button",{props:{type:"error",icon:"ios-trash-outline",size:"small"},on:{click:function(){e.onClickDelete(o.index)}}})])}}];Object.keys(t.data.data[0]).map((function(t){var a={title:e.capitalizeFirstLetter(t),key:t,sortable:!0};["created_at","modified_at"].includes(t)?a.render=function(e,o){var a=o.row;return e("div",a[t]?d()(a[t]).format("DD-MMM-YYYY"):"")}:"status"===t&&(a.render=function(e,o){var a=o.row;return e("Tag",{props:{size:"small",color:"ACTIVE"===a[t]?"blue":"volcano"}},a[t])},a.filters=[{label:"Active",value:"ACTIVE"},{label:"Inactive",value:"INACTIVE"}],a.filterMultiple=!1,a.filterMethod=function(e,o){return o[t]===e}),o.push(a)})),e.table.column=o,e.table.data=t.data.data,e.table.dataSearch=Object(l["a"])(t.data.data)})).catch((function(t){t&&t.message&&e.$Message.error(t.message)})).finally((function(){e.loading=!1}))},edit:function(e){this.modal_loading=!1,this.$refs["form.formValidate"].resetFields(),this.showEditModal=!0;var t=this.table.dataSearch[e];this.form.model=m(m({},t),{},{title:"Edit ".concat(t.name)})},onCreate:function(){this.$refs["form.formValidate"].resetFields(),this.form.model={status:"ACTIVE",title:"Add New",isCreate:!0},this.showEditModal=!0},onSave:function(){var e=this;this.modal_loading=!0,this.$refs["form.formValidate"].validate((function(t){t?(e.modal_loading=!0,s["a"].request({url:"services/modules"+(e.form.model.isCreate?"":"/"+e.form.model.code),method:e.form.model.isCreate?"post":"patch",data:m(m({},e.form.model),{},{create_by:"sys"})}).then((function(t){e.init()})).catch((function(t){t&&t.message&&e.$Message.error(t.message)})).finally((function(){e.modal_loading=!1,e.showEditModal=!1}))):e.modal_loading=!1}))},onCancel:function(){this.showEditModal=!1},onSearch:function(){console.log(this.search)},onClickDelete:function(e){var t=this;console.log(e),this.$Modal.confirm({title:"Title",content:"<p>The dialog box will be closed after 2 seconds</p>",loading:!0,onOk:function(){setTimeout((function(){t.$Modal.remove(),t.$Message.info("Asynchronously close the dialog box")}),2e3)}})},viewDetail:function(e){var t=this.table.dataSearch[e];delete t.title;var o={name:"viewDetail",params:m({},t),query:{title:"View Detail | ".concat(this.$route.meta.title," | ").concat(t.name)}};this.$router.push(o)}},watch:{},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),created:function(){try{this.init()}catch(e){console.log(e.message),this.$Message.error(e.message),this.loading=!1}}},h=f,p=(o("f1ee"),o("2877")),v=Object(p["a"])(h,a,r,!1,null,null,null);t["default"]=v.exports},f1ee:function(e,t,o){"use strict";o("96e7")}}]);